# Данный проект представляет собой модель, принимающую данные из Rabbit. (схема лежит в add_review.puml)

### Про данные
#### В качестве датасета был выбран датасет: https://www.kaggle.com/datasets/theovall/phonereviews

#### Предобработка

##### Для начала отзывы фильтровались готовой моделью по анализу тональности текста: https://huggingface.co/Tatyana/rubert-base-cased-sentiment-new

##### После этого текст отзыва токенизировался. При этом текст очищался от любых небуквенных символов.

### Модель
#### В проекте использовалась связка TfidfVectorizer + LogisticRegression

### Метрики качества модели
#### Кроме банальной метрики accuracy была выбрана F-мера, так как нам одинаково важно правильно классифицировать отзывы обоих классов.

#### Вот результаты:
| Accuracy | F-мера |
| --- | --- |
| 0.8820088626292467 | 0.922377269016986 |


###  Про расположение файлов

 - #### ```notebooks/``` - Здесь находятся скрипт для фильтрации, предобработки данных, а также для обучения модели.
 - #### ```data/``` - Здесь находятся данные в формате csv, которые являются результатами работы и входными данными для скриптов в notebook/. (В репозиторий файлы не поместились, поэтому они были положены прямиком на сервер).
 - #### ```src/objects/``` - Здесь находятся дампы модели и векторизатора. Отсюда они импортируются и используются.
 - #### ```src/``` - Здесь лежит код сервиса по классификации.
 - #### ```rabbitmq/``` - В данной директории находится файл конфигурации для RabbitMQ.

### Запуск
Переходим в нужную директорию
```shell
cd ./src
```

Собираем образ
```shell
docker build . -t model_app
```

Возвращаемся обратно
```shell
cd ..
```
Запускаем проект
```shell
docker-compose up -d
```
